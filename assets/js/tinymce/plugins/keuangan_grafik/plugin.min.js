(function() {
	tinymce.PluginManager.add('keuangan_grafik', function( editor, url ) {
		editor.addButton( 'keuangan_grafik', {
			text: 'Grafik Keuangan',
			icon: false,
			type: 'menubutton',
			menu: [
			{
				text: 'Grafik Realisasi Pelaksanaan',
				onclick: function() {
					editor.windowManager.open( {
						title: 'Select Data Realisasi Pelaksanaan',
						body: [
						{
                            type   : 'listbox',
                            name   : 'semester',
                            label  : 'Semester',
                            values : [
                                { text: 'Semester 1', value: '1' },
                                { text: 'Semester 2', value: '2' }
                            ],
                            value : '1' // Default Value
                        },
                        {
                            type   : 'listbox',
                            name   : 'tahun',
                            label  : 'Tahun',
                            values : [
	                            { text: '2016', value: '2016' },
	                            { text: '2017', value: '2017' },
	                            { text: '2018', value: '2018' },
                                { text: '2019', value: '2019' },
                                { text: '2020', value: '2020' },
                                { text: '2021', value: '2021' }
                            ],
                            value : '2016' // Default Value
                        },
						],
						onsubmit: function( e ) {
	                        editor.insertContent('[[grafik-RP-APBD,' + e.data.semester +','+ e.data.tahun +']]');
	                    },
	                    width: 400,
						height: 140
					} )
				}
			},
			{
				text: 'Grafik Realisasi Pendapatan',
				onclick: function() {
					editor.windowManager.open( {
						title: 'Select Data Realisasi Pendapatan',
						body: [
						{
                            type   : 'listbox',
                            name   : 'semester',
                            label  : 'Semester',
                            values : [
                                { text: 'Semester 1', value: '1' },
                                { text: 'Semester 2', value: '2' }
                            ],
                            value : '1' // Default Value
                        },
                        {
                            type   : 'listbox',
                            name   : 'tahun',
                            label  : 'Tahun',
                            values : [
	                            { text: '2016', value: '2016' },
	                            { text: '2017', value: '2017' },
	                            { text: '2018', value: '2018' },
                                { text: '2019', value: '2019' },
                                { text: '2020', value: '2020' },
                                { text: '2021', value: '2021' }
                            ],
                            value : '2019' // Default Value
                        },
						],
						onsubmit: function( e ) {
	                        editor.insertContent('[[grafik-R-PD,' + e.data.semester +','+ e.data.tahun +']]');
	                    },
	                    width: 400,
						height: 140
					} )
				}
			},
			{
				text: 'Grafik Realisasi Belanja',
				onclick: function() {
					editor.windowManager.open( {
						title: 'Select Data Realisasi Belanja',
						body: [
						{
                            type   : 'listbox',
                            name   : 'semester',
                            label  : 'Semester',
                            values : [
                                { text: 'Semester 1', value: '1' },
                                { text: 'Semester 2', value: '2' }
                            ],
                            value : '1' // Default Value
                        },
                        {
                            type   : 'listbox',
                            name   : 'tahun',
                            label  : 'Tahun',
                            values : [
	                            { text: '2016', value: '2016' },
	                            { text: '2017', value: '2017' },
	                            { text: '2018', value: '2018' },
                                { text: '2019', value: '2019' },
                                { text: '2020', value: '2020' },
                                { text: '2021', value: '2021' }
                            ],
                            value : '2016' // Default Value
                        },
						],
						onsubmit: function( e ) {
	                        editor.insertContent('[[grafik-R-BD,' + e.data.semester +','+ e.data.tahun +']]');
	                    },
	                    width: 400,
						height: 140
					} )
				}
			},
			{
				text: 'Grafik Realisasi Pembiayaan',
				onclick: function() {
					editor.windowManager.open( {
						title: 'Select Data Realisasi Pembiayaan',
						body: [
						{
                            type   : 'listbox',
                            name   : 'semester',
                            label  : 'Semester',
                            values : [
                                { text: 'Semester 1', value: '1' },
                                { text: 'Semester 2', value: '2' }
                            ],
                            value : '1' // Default Value
                        },
                        {
                            type   : 'listbox',
                            name   : 'tahun',
                            label  : 'Tahun',
                            values : [
	                            { text: '2016', value: '2016' },
	                            { text: '2017', value: '2017' },
	                            { text: '2018', value: '2018' },
                                { text: '2019', value: '2019' },
                                { text: '2020', value: '2020' },
                                { text: '2021', value: '2021' }
                            ],
                            value : '2016' // Default Value
                        },
						],
						onsubmit: function( e ) {
	                        editor.insertContent('[[grafik-R-PEMDES,' + e.data.semester +','+ e.data.tahun +']]');
	                    },
	                    width: 400,
						height: 140
					} )
				}
			}
			]
		});
	});
})();